<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“š</text></svg>"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>German stories</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <a href="/">
        <img src="./german-stories-logo.svg" alt="logo" />
      </a>
      <nav>
        <a href="/a1.html">A1</a>
        <a href="/a2.html">A2</a>
        <a href="/b1.html">B1</a>
        <a href="/b2.html">B2</a>
      </nav>
      <button id="toggle-dark-mode">Light</button>
    </header>

    <section class="main-content">
      <aside>
        <nav id="toc">{{toc}}</nav>
      </aside>
      <main>{{content}}</main>
    </section>

    <button id="back-to-top" title="Back to top">â†‘</button>
    <footer>
      <div>
        <p>
          Crafted with ðŸ§€ by
          <a target="_blank" href="https://danielbergmann.is"
            >Daniel Bergmann</a
          >
        </p>
        <p>&copy; <span id="current-year"></span> - All rights reserved.</p>
      </div>
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const darkModeButton = document.getElementById("toggle-dark-mode")
        const body = document.body
        const backToTopButton = document.getElementById("back-to-top")

        // Check dark mode preference
        const darkModeEnabled = localStorage.getItem("dark-mode") === "true"

        // Set initial theme and button text
        if (darkModeEnabled) {
          body.setAttribute("data-theme", "dark")
          darkModeButton.textContent = "Light"
        } else {
          darkModeButton.textContent = "Dark"
        }

        // Toggle dark mode on button click
        darkModeButton.addEventListener("click", () => {
          if (body.getAttribute("data-theme") === "dark") {
            body.removeAttribute("data-theme")
            localStorage.setItem("dark-mode", "false")
            darkModeButton.textContent = "Dark"
          } else {
            body.setAttribute("data-theme", "dark")
            localStorage.setItem("dark-mode", "true")
            darkModeButton.textContent = "Light"
          }
        })

        // Back to Top Button Functionality
        window.addEventListener("scroll", () => {
          if (window.scrollY > 200) {
            backToTopButton.style.display = "block"
          } else {
            backToTopButton.style.display = "none"
          }
        })

        backToTopButton.addEventListener("click", () => {
          window.scrollTo({ top: 0, behavior: "smooth" })
        })

        // Set current year in footer
        const yearSpan = document.getElementById("current-year")
        const currentYear = new Date().getFullYear()
        yearSpan.textContent = currentYear
      })
    </script>
  </body>
</html>
